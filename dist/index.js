function _createForOfIteratorHelper(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){u=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(u)throw a}}}}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw o}}return a}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}!function(e,t){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=t(require("vue"),require("@vue/shared"),require("vue-router"),require("@vue/runtime-core"),require("@vue/reactivity")):"function"==typeof define&&define.amd?define(["vue","@vue/shared","vue-router","@vue/runtime-core","@vue/reactivity"],t):(e="undefined"!=typeof globalThis?globalThis:e||self).StackKeepAlive=t(e.vue,e["vue/shared"],e.VueRouter,e.runtimeCore,e.reactivity)}(this,(function(e,t,n,r,o){"use strict";var a;!function(e){e[e.ELEMENT=1]="ELEMENT",e[e.FUNCTIONAL_COMPONENT=2]="FUNCTIONAL_COMPONENT",e[e.STATEFUL_COMPONENT=4]="STATEFUL_COMPONENT",e[e.TEXT_CHILDREN=8]="TEXT_CHILDREN",e[e.ARRAY_CHILDREN=16]="ARRAY_CHILDREN",e[e.SLOTS_CHILDREN=32]="SLOTS_CHILDREN",e[e.TELEPORT=64]="TELEPORT",e[e.SUSPENSE=128]="SUSPENSE",e[e.COMPONENT_SHOULD_KEEP_ALIVE=256]="COMPONENT_SHOULD_KEEP_ALIVE",e[e.COMPONENT_KEPT_ALIVE=512]="COMPONENT_KEPT_ALIVE",e[e.COMPONENT=6]="COMPONENT"}(a||(a={}));var i,u=a,c=function(e){return null!=e},s={__placeholder:!0},l=function(e){return e.currentRoute._value.path},f=function(){var e=p();return c(e)?e.id:void 0},p=function(){return history.state},v=function(e){return e.type.__isKeepAlive};function d(e,t){return!(t.shapeFlag&u.COMPONENT)&&(e.type===t.type&&e.key===t.key)}!function(e){e[e.SETUP_FUNCTION=0]="SETUP_FUNCTION",e[e.RENDER_FUNCTION=1]="RENDER_FUNCTION",e[e.WATCH_GETTER=2]="WATCH_GETTER",e[e.WATCH_CALLBACK=3]="WATCH_CALLBACK",e[e.WATCH_CLEANUP=4]="WATCH_CLEANUP",e[e.NATIVE_EVENT_HANDLER=5]="NATIVE_EVENT_HANDLER",e[e.COMPONENT_EVENT_HANDLER=6]="COMPONENT_EVENT_HANDLER",e[e.VNODE_HOOK=7]="VNODE_HOOK",e[e.DIRECTIVE_HOOK=8]="DIRECTIVE_HOOK",e[e.TRANSITION_HOOK=9]="TRANSITION_HOOK",e[e.APP_ERROR_HANDLER=10]="APP_ERROR_HANDLER",e[e.APP_WARN_HANDLER=11]="APP_WARN_HANDLER",e[e.FUNCTION_REF=12]="FUNCTION_REF",e[e.ASYNC_COMPONENT_LOADER=13]="ASYNC_COMPONENT_LOADER",e[e.SCHEDULER=14]="SCHEDULER"}(i||(i={}));var h,y=i;!function(e){e[e.TEXT=1]="TEXT",e[e.CLASS=2]="CLASS",e[e.STYLE=4]="STYLE",e[e.PROPS=8]="PROPS",e[e.FULL_PROPS=16]="FULL_PROPS",e[e.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",e[e.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",e[e.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",e[e.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",e[e.NEED_PATCH=512]="NEED_PATCH",e[e.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",e[e.DEV_ROOT_FRAGMENT=2048]="DEV_ROOT_FRAGMENT",e[e.HOISTED=-1]="HOISTED",e[e.BAIL=-2]="BAIL"}(h||(h={}));var _=h,E=4,A=128,C=256,m=512,g=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=0;n<e.length;n++)e[n](t)};function T(e){return"function"==typeof e&&e.displayName||e.name}function k(t,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;e.callWithAsyncErrorHandling(t,n,7,[r,o])}var S=0,N=1;var b,R=function(n,r){var o;r&&r.pendingBranch?t.isArray(n)?(o=r.effects).push.apply(o,_toConsumableArray(n)):r.effects.push(n):e.queuePostFlushCb(n)},L=function(){function e(t){_classCallCheck(this,e),this.historyStackMap=[],this.destroyCache=t}return _createClass(e,[{key:"push",value:function(e,t){var n=this.historyStackMap[t];if(Array.isArray(n))!n.includes(e)&&n.push(e),this.historyStackMap[t]=n.filter((function(e){return!e._isDestroyed}));else{var r=[];r.push(e),this.historyStackMap[t]=r}}},{key:"pop",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.historyStackMap.pop();if(Array.isArray(n))if(t){var r=n.pop();r&&this.destroyCache(r)}else n.forEach((function(t){return t&&e.destroyCache(t)}))}},{key:"removeGreater",value:function(e){for(;this.historyStackMap.length>=e;)this.pop()}},{key:"clear",value:function(){this.historyStackMap=[]}}]),e}(),P=function(){function e(t){_classCallCheck(this,e),this.router=t}return _createClass(e,[{key:"beforeReplace",value:function(e,t){var n=this.router,r=n.replace;return n.replace=function(o,a,i){!function(o,a,i){e(o),r.call(n,o,a,(function(e){t(),c(i)&&i(e)}))}(o,a,i)},this}},{key:"beforeGo",value:function(e){var t=this.router,n=t.go;return t.go=function(r){return e(o=r),n.call(t,o);var o},this}},{key:"beforePush",value:function(e){var t=this.router,n=t.push;return t.push=function(r,o,a){return function(r,o,a){if(e(),!o&&!a&&"undefined"!=typeof Promise)return n.call(t,r,o,a);n.call(t,r,o,a)}(r,o,a)},this}}]),e}();var O=function(e){return b||(b=new I),e&&b.setup(e),b},I=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"setup",value:function(e){var t=this,n=e.router,r=e.pruneCacheEntry,o=e.replaceStay,a=e.singleton;!function(e){var t=e.replaceState;e.replaceState=function(n,r,o){var a=Object.assign({},e.state),i=Object.assign(a,n);t.call(e,i,r,o)};var n=e.pushState;e.pushState=function(t,r,o){var a=Object.assign({},e.state),i=Object.assign(a,t);n.call(e,i,r,o)}}(history),this.destroyCaches=r,this.router=n,this.router._stack=0,this.mode=n.mode,this.historyShouldChange=!1,this.isReplace=!1,this.replacePrePath=void 0,this.preStateId=0,this.pre=null,this.replaceStay=o||[],this.singleton=a||[],this._initial=!0,this.historyStack=new L((function(e){var n;e&&(!e.vnode.key||(n=e.vnode)&&n.key.startsWith("keep-alive-vnode-key-singleton-")||t.destroyCaches(e.vnode.key))})),this.init(),this.router.__core=this,this._routeTo=void 0}},{key:"isBacking",get:function(){return!(this.isPush||this.isReplace)}},{key:"init",value:function(){this.initStackPointer(),this.routerHooks(),this.hackRouter()}},{key:"initStackPointer",value:function(){var e=f();c(e)?this.setStackPointer(e):this.setState(0)}},{key:"genInitialKeyNextTime",value:function(){this._initial=!0}},{key:"genKeyForVnode",value:function(){var e=this,t=this.router,n=function(t,n,r){return r&&e.singleton.includes(r)?function(e){return"keep-alive-vnode-key-singleton-".concat((arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)||l(e))}(n,r):function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return"keep-alive-vnode-key-".concat(Number(e),"-").concat(n||l(t))}(t,n,r)};return this.isReplace||this._initial?(this._initial=!1,n(this.stackPointer,t,this._routeTo)):this.isPush?n(this.stackPointer+1,t,this._routeTo):n(this.stackPointer-1,t,this._routeTo)}},{key:"routerHooks",value:function(){var t=this,n=this.router;n.beforeEach((function(e,n,r){if(t.singleton.includes(e.path)&&e.path===n.path)return console.warn("警告 [stack-keep-alive]: 单例模式的页面不支持从自身重复路由"),void console.warn("warning [stack-keep-alive]: the singleton component doesn`t support route to from itself");t._routeTo=e.path,r()})),n.afterEach((function(n,r){t.historyShouldChange=!0,e.nextTick((function(){var e,n=t.currentVm,r=function(e){return c(e)?e:s}(n);null===t.pre?t.onInitial(r):t.isReplace?t.onReplace(r):t.isPush?t.onPush(r):t.onBack(r),t.pre=n,t.preStateId=t.stackPointer,(e=r)&&e.__placeholder||(t.historyShouldChange=!1)}))}))}},{key:"hackRouter",value:function(){var e=this;this._hackRouter=new P(this.router),this._hackRouter.beforeReplace((function(){e.isReplace=!0,e.replacePrePath=l(e.router)}),(function(t){e.isReplace=!1,e.replacePrePath=void 0})).beforeGo((function(t){e.isReplace=!1})).beforePush((function(){e.isReplace=!1}))}},{key:"onInitial",value:function(e){this.historyStack.push(e,this.stackPointer)}},{key:"onPush",value:function(e){var t,n;this.setState(this.increaseStackPointer()),this.historyStack.push(e,this.stackPointer),null===(t=this.pre)||void 0===t||null===(n=t.$clearParent)||void 0===n||n.call(t,e),this.pre=null}},{key:"onBack",value:function(e){this.historyStack.pop(),this.decreaseStackPointer(),this.historyStack.push(e,this.stackPointer)}},{key:"onReplace",value:function(e){var t=this.replacePrePath===l(this.router);!(c(this.replacePrePath)&&this.replaceStay.includes(this.replacePrePath)||t)&&this.historyStack.pop(!0),this.pre=null,this.setState(this.stackPointer),this.historyStack.push(e,this.stackPointer),this.isReplace=!1,this.replacePrePath=void 0}},{key:"currentVm",get:function(){return(null==(e=this.router)||null===(t=e.currentRoute)||void 0===t||null===(n=t._value)||void 0===n||null===(r=n.matched)||void 0===r?void 0:r.length)>0?null===(o=e.currentRoute._value.matched[0].instances)||void 0===o||null===(a=o.default)||void 0===a?void 0:a.$:void 0;var e,t,n,r,o,a}},{key:"isPush",get:function(){if(!this.isReplace){var e=f();return!c(e)||this.preStateId<=e}return!1}},{key:"stackPointer",get:function(){return this.router._stack}},{key:"setStackPointer",value:function(e){this.router._stack=e}},{key:"setState",value:function(e){this.setStackPointer(e),function(e,t,n){var r=window.location,o=r.pathname,a=r.search,i=r.hash,u="".concat(o).concat(a).concat(i),s=c(history.state)?history.state:{};s.id=n;var l=window.location.href.startsWith("file://");history.replaceState(s,"",l?null:u)}(this.mode,this.router,e)}},{key:"increaseStackPointer",value:function(){return this.router._stack+=1}},{key:"decreaseStackPointer",value:function(){return this.router._stack-=1}}]),t}(),F=null,M={name:"StackKeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number],replaceStay:[Array],singleton:[Array],mode:String},setup:function(t,r){var o=r.slots,a=e.getCurrentInstance(),i=a.ctx;if(!i.renderer)return o.default;var u=new Map,c=new Set,s=null;window.__v_cache=a.__v_cache=u;var l,f=a.suspense,p=i.renderer,v=(p.p,p.m),d=p.um,h=(0,p.o.createElement)("div");function y(e){D(e),d(e,a,f,!0)}function _(e){u.forEach((function(t,n){var r=T(t.type);!r||e&&e(r)||b(n)}))}function b(e){var t=u.get(e);s.key===e?D(s):s&&y(t),u.delete(e),c.delete(e)}if(i.activate=function(e,t,n,r,o){var a=e.component;v(e,t,n,S,f),R((function(){a.isDeactivated=!1,a.a&&g(a.a);var t=e.props&&e.props.onVnodeMounted;t&&k(t,a.parent,e)}),f)},i.deactivate=function(e){var t=e.component;v(e,h,null,N,f),R((function(){t.da&&g(t.da);var n=e.props&&e.props.onVnodeUnmounted;n&&k(n,t.parent,e),t.isDeactivated=!0}),f)},!(l=n.useRouter()))throw new Error("router is not found! In unit test mode ,router is got from gloabl.router, otherwise VueRouter.useRouter()");F=O({router:l,pruneCacheEntry:b,replaceStay:t.replaceStay,singleton:t.singleton}),window.__core=F,e.watch((function(){return[t.include,t.exclude]}),(function(e){var t=_slicedToArray(e,2),n=t[0],r=t[1];n&&_((function(e){return H(n,e)})),r&&_((function(e){return!H(r,e)}))}),{flush:"post",deep:!0});var L=null,P=function(){null!=L&&u.set(L,w(a.subTree))};return e.onMounted(P),e.onUpdated(P),e.onBeforeUnmount((function(){u.forEach((function(e){var t=a.subTree,n=a.suspense,r=w(t);if(e.type!==r.type)y(e);else{D(r);var o=r.component.da;o&&R(o,n)}}))})),function(){if(L=null,!o.default)return null;var n=F.genKeyForVnode(),r=o.default({key:n}),i=r[0];if(a.vnode&&(a.vnode.__oldChild=r[0]),r.length>1)return e.warn("KeepAlive should contain exactly one component child."),s=null,F.genInitialKeyNextTime(),r;if(!e.isVNode(i)||i.shapeFlag!==E&&i.shapeFlag!==A)return F.genInitialKeyNextTime(),s=null,i;var l=w(i),f=l.type,p=T(l.__asyncLoader?l.type.__asyncResolved||{}:f),v=t.include,d=t.exclude,h=t.max;if(v&&(!p||!H(v,p))||d&&p&&H(d,p))return s=l,i;var y=null==l.key?f:l.key,_=u.get(y);return l.el&&(l=e.cloneVNode(l),i.shapeFlag&A&&(i.ssContent=l)),L=y,_?(l.el=_.el,l.component=_.component,l.transition&&e.setTransitionHooks(l,l.transition),l.shapeFlag|=m,c.delete(y),c.add(y)):(c.add(y),h&&c.size>parseInt(h,10)&&b(c.values().next().value)),l.shapeFlag|=C,s=l,i}}};function H(e,n){return t.isArray(e)?e.some((function(e){return H(e,n)})):t.isString(e)?e.split(",").includes(n):!!e.test&&e.test(n)}function D(e){if(e){var t=e.shapeFlag;t&C&&(t-=C),t&m&&(t-=m),e.shapeFlag=t}}function w(e){return e.shapeFlag&A?e.ssContent:e}var B="_placeholder",U=[Function,Array],V={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:U,_onBeforeEnter:U,onEnter:U,_onEnter:U,onAfterEnter:U,onEnterCancelled:U,_onEnterCancelled:U,onBeforeLeave:U,onLeave:U,_onLeave:U,onAfterLeave:U,onLeaveCancelled:U,_onLeaveCancelled:U,onBeforeAppear:U,_onBeforeAppear:U,onAppear:U,_onAppear:U,onAfterAppear:U,onAppearCancelled:U,_onAppearCancelled:U},setup:function(t,n){var a,i=n.slots,u=e.getCurrentInstance(),c=function(){var t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return e.onMounted((function(){t.isMounted=!0})),e.onBeforeUnmount((function(){t.isUnmounting=!0})),t}();return function(){var n=i.default&&G(i.default(),!0);if(n&&n.length){var s=n[0];if(n.length>1){var l,f=!1,p=_createForOfIteratorHelper(n);try{for(p.s();!(l=p.n()).done;){var v=l.value;if(v.type!==r.Comment){if(f){e.warn("<transition> can only be used on a single element or component. Use <transition-group> for lists.");break}s=v,f=!0}}}catch(e){p.e(e)}finally{p.f()}}if(s&&s.type&&s.type.name&&"StackKeepAlive"===s.type.name){s.__id=Math.floor(1e3*Math.random()),s._R;var h=new Proxy(s.children,{get:function(e,t,n){if("default"==t){var o=Reflect.get(e,t,n);return function(e){var t=o(e);return s._R&&!s._R.reused?(e.key!==B&&(s._R[0].key=e.key,s._R[0].props.key=e.key,s._R.reused=!0),s._R):(t[0].type!==r.Comment&&(s._R=t),t)}}return Reflect.get(e,t,n)}});s.children=h}var y=o.toRaw(t),_=y.mode;if(_&&"in-out"!==_&&"out-in"!==_&&"default"!==_&&e.warn("invalid <transition> mode: ".concat(_)),c.isLeaving)return W(s);var E=j(s);if(!E)return W(s);var A=x(E,y,c,u);Y(E,A);var C=u.subTree,m=C&&j(C),g=!1,T=E.type.getTransitionKey;if(T){var k=T();void 0===a?a=k:k!==a&&(a=k,g=!0)}if(m&&m.type!==r.Comment&&(!d(E,m)||g)){var S=x(m,y,c,u);if(Y(m,S),"out-in"===_)return c.isLeaving=!0,S.afterLeave=function(){c.isLeaving=!1,u.update()},W(s);"in-out"===_&&E.type!==r.Comment&&(S.delayLeave=function(e,t,n){K(c,m)[String(m.key)]=m,e._leaveCb=function(){t(),e._leaveCb=void 0,delete A.delayedLeave},A.delayedLeave=n})}return s}}}};function K(e,t){var n=e.leavingVNodes,r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function x(n,r,o,a){var i=r.appear,u=r.mode,c=r.persisted,s=void 0!==c&&c,l=r.onBeforeEnter,f=r._onBeforeEnter,p=r.onEnter,v=r._onEnter,h=r.onAfterEnter,_=r.onEnterCancelled,E=r._onEnterCancelled,A=r.onBeforeLeave,C=(r._onBeforeLeave,r.onLeave),m=r._onLeave,g=r.onAfterLeave,T=r.onLeaveCancelled,k=r._onLeaveCancelled,S=r.onBeforeAppear,N=r._onBeforeAppear,b=r.onAppear,R=r._onAppear,L=r.onAfterAppear,P=r.onAppearCancelled,I=r._onAppearCancelled,F=String(n.key),M=K(o,n),H=O(),D=function(t,n){t&&e.callWithAsyncErrorHandling(t,a,y.TRANSITION_HOOK,n)},w=function(e,n){var r=n[1];D(e,n),t.isArray(e)?e.every((function(e){return e.length<=1}))&&r():e.length<=1&&r()},B={mode:u,persisted:s,beforeEnter:function(e){var t=H.isBacking?f:l;if(!o.isMounted){if(!i)return;t=H.isBacking?N||f:S||l}e._leaveCb&&e._leaveCb(!0);var r=M[F];r&&d(n,r)&&r.el._leaveCb&&r.el._leaveCb(),D(t,[e])},enter:function(e){var t=H.isBacking?v:p,n=h,r=H.isBacking?E:_;if(!o.isMounted){if(!i)return;t=H.isBacking?R||v:b||p,n=L||h,r=H.isBacking?I||E:P||_}var a=!1,u=e._enterCb=function(t){a||(a=!0,D(t?r:n,[e]),B.delayedLeave&&B.delayedLeave(),e._enterCb=void 0)};t?w(t,[e,u]):u()},leave:function(e,t){var r=String(n.key);if(e._enterCb&&e._enterCb(!0),o.isUnmounting)return t();D(A,[e]);var a=!1,i=e._leaveCb=function(o){a||(a=!0,t(),D(o?H.isBacking?k:T:g,[e]),e._leaveCb=void 0,M[r]===n&&delete M[r])};M[r]=n,C&&m?w(H.isBacking?m:C,[e,i]):i()},clone:function(e){return x(e,r,o,a)}};return B}function W(t){if(v(t))return(t=e.cloneVNode(t)).children=null,t}function j(e){return v(e)?e.children?t.isArray(e.children)?e.children[0]:e.children.default({key:B})[0]:void 0:e}function Y(e,t){e.shapeFlag&u.COMPONENT&&e.component?Y(e.component.subTree,t):e.shapeFlag&u.SUSPENSE?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function G(t){for(var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2?arguments[2]:void 0,a=[],i=0,u=0;u<t.length;u++){var c=t[u],s=null==o?c.key:String(o)+String(null!=c.key?c.key:u);c.type===r.Fragment?(c.patchFlag&_.KEYED_FRAGMENT&&i++,a=a.concat(G(c.children,n,s))):(n||c.type!==r.Comment)&&a.push(null!=s?e.cloneVNode(c,{key:s}):c)}if(i>1)for(var l=0;l<a.length;l++)a[l].patchFlag=_.BAIL;return a}var q="transition",X="animation",$=function(e,n){var o=n.slots;return r.h(V,function(e){var n={};for(var r in e)r in z||(n[r]=e[r]);if(!1===e.css)return n;var o=e.name,a=void 0===o?"v":o,i=e.type,u=e.duration,c=e.enterFromClass,s=void 0===c?"".concat(a,"-enter-from"):c,l=e.enterActiveClass,f=void 0===l?"".concat(a,"-enter-active"):l,p=e.enterToClass,v=void 0===p?"".concat(a,"-enter-to"):p,d=e.appearFromClass,h=void 0===d?s:d,y=e.appearActiveClass,_=void 0===y?f:y,E=e.appearToClass,A=void 0===E?v:E,C=e.leaveFromClass,m=void 0===C?"".concat(a,"-leave-from"):C,g=e.leaveActiveClass,T=void 0===g?"".concat(a,"-leave-active"):g,k=e.leaveToClass,S=void 0===k?"".concat(a,"-leave-to"):k,N=e.back_name,b=void 0===N?"v":N,R=(e.back_type,e.back_duration,e.back_enterFromClass),L=void 0===R?"".concat(b,"-enter-from"):R,P=e.back_enterActiveClass,O=void 0===P?"".concat(b,"-enter-active"):P,I=e.back_enterToClass,F=void 0===I?"".concat(b,"-enter-to"):I,M=e.back_appearFromClass,H=void 0===M?L:M,D=e.back_appearActiveClass,w=void 0===D?O:D,B=e.back_appearToClass,U=void 0===B?F:B,V=e.back_leaveFromClass,K=void 0===V?"".concat(b,"-leave-from"):V,x=e.back_leaveActiveClass,W=void 0===x?"".concat(b,"-leave-active"):x,j=e.back_leaveToClass,Y=void 0===j?"".concat(b,"-leave-to"):j,G=function(e){if(null==e)return null;if(t.isObject(e))return[Z(e.enter),Z(e.leave)];var n=Z(e);return[n,n]}(u),q=G&&G[0],X=G&&G[1],$=n.onBeforeEnter,re=n.onEnter,ae=n.onEnterCancelled,ie=n.onLeave,ce=n.onLeaveCancelled,se=n.onBeforeAppear,le=void 0===se?$:se,fe=n.onAppear,pe=void 0===fe?re:fe,ve=n.onAppearCancelled,de=void 0===ve?ae:ve,he=function(e,t,n){te(e,t?A:v),te(e,t?_:f),n&&n()},ye=function(e,t){e._isLeaving=!1,te(e,m),te(e,S),te(e,T),t&&t()},_e=function(e){return function(t,n){var r=e?pe:re,o=function(){return he(t,e,n)};J(r,[t,o]),ne((function(){te(t,e?h:s),ee(t,e?A:v),Q(r)||oe(t,i,q,o)}))}},Ee=function(e,t){e._isLeaving=!1,te(e,K),te(e,Y),te(e,W),t&&t()},Ae=function(e,t,n){te(e,t?U:F),te(e,t?w:O),n&&n()},Ce=function(e){return function(t,n){var r=e?pe:re,o=function(){return Ae(t,e,n)};J(r,[t,o]),ne((function(){te(t,e?H:L),ee(t,e?U:F),Q(r)||oe(t,i,q,o)}))}};return t.extend(n,{onBeforeEnter:function(e){J($,[e]),ee(e,s),ee(e,f)},_onBeforeEnter:function(e){J($,[e]),ee(e,L),ee(e,O)},onBeforeAppear:function(e){J(le,[e]),ee(e,h),ee(e,_)},_onBeforeAppear:function(e){J(le,[e]),ee(e,H),ee(e,w)},_onEnter:Ce(!1),_onAppear:Ce(!0),onEnter:_e(!1),onAppear:_e(!0),onLeave:function(e,t){e._isLeaving=!0;var n=function(){return ye(e,t)};ee(e,m),ue(),ee(e,T),ne((function(){e._isLeaving&&(te(e,m),ee(e,S),Q(ie)||oe(e,i,X,n))})),J(ie,[e,n])},_onLeave:function(e,t){e._isLeaving=!0;var n=function(){return Ee(e,t)};ee(e,K),ue(),ee(e,W),ne((function(){e._isLeaving&&(te(e,K),ee(e,Y),Q(ie)||oe(e,i,X,n))})),J(ie,[e,n])},onEnterCancelled:function(e){he(e,!1),J(ae,[e])},_onEnterCancelled:function(e){Ae(e,!1),J(ae,[e])},onAppearCancelled:function(e){he(e,!0),J(de,[e])},_onAppearCancelled:function(e){Ae(e,!0),J(de,[e])},onLeaveCancelled:function(e){ye(e),J(ce,[e])},_onLeaveCancelled:function(e){Ee(e),J(ce,[e])}})}(e),o)};$.displayName="SkTransition";var z={name:String,back_name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};$.props=t.extend({},V.props,z);var J=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];t.isArray(e)?e.forEach((function(e){return e.apply(void 0,_toConsumableArray(n))})):e&&e.apply(void 0,_toConsumableArray(n))},Q=function(e){return!!e&&(t.isArray(e)?e.some((function(e){return e.length>1})):e.length>1)};function Z(e){var n=t.toNumber(e);return function(e){"number"!=typeof e?r.warn("<transition> explicit duration is not a valid number - "+"got ".concat(JSON.stringify(e),".")):isNaN(e)&&r.warn("<transition> explicit duration is NaN - the duration expression might be incorrect.")}(n),n}function ee(e,t){t.split(/\s+/).forEach((function(t){return t&&e.classList.add(t)})),(e._vtc||(e._vtc=new Set)).add(t)}function te(e,t){t.split(/\s+/).forEach((function(t){return t&&e.classList.remove(t)}));var n=e._vtc;n&&(n.delete(t),n.size||(e._vtc=void 0))}function ne(e){requestAnimationFrame((function(){requestAnimationFrame(e)}))}var re=0;function oe(e,t,n,r){var o=e._endId=++re,a=function(){o===e._endId&&r()};if(n)return setTimeout(a,n);var i=function(e,t){var n=window.getComputedStyle(e),r=function(e){return(n[e]||"").split(", ")},o=r("transitionDelay"),a=r("transitionDuration"),i=ae(o,a),u=r("animationDelay"),c=r("animationDuration"),s=ae(u,c),l=null,f=0,p=0;t===q?i>0&&(l=q,f=i,p=a.length):t===X?s>0&&(l=X,f=s,p=c.length):p=(l=(f=Math.max(i,s))>0?i>s?q:X:null)?l===q?a.length:c.length:0;var v=l===q&&/\b(transform|all)(,|$)/.test(n.transitionProperty);return{type:l,timeout:f,propCount:p,hasTransform:v}}(e,t),u=i.type,c=i.timeout,s=i.propCount;if(!u)return r();var l=u+"end",f=0,p=function(){e.removeEventListener(l,v),a()},v=function(t){t.target===e&&++f>=s&&p()};setTimeout((function(){f<s&&p()}),c+1),e.addEventListener(l,v)}function ae(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max.apply(Math,_toConsumableArray(t.map((function(t,n){return ie(t)+ie(e[n])}))))}function ie(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function ue(){return document.body.offsetHeight}var ce={StackKeepAlive:M,Transition:$};return{install:function(e){for(var t in ce)if(ce.hasOwnProperty(t)){var n=ce[t];e.component(n.displayName||n.name,n)}},ATransition:$}}));
