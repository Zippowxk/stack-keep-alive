function e(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var r,o,i=[],a=!0,u=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==t.return||t.return()}finally{if(u)throw o}}return i}(e,n)||i(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function t(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function o(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,n){if(e){if("string"==typeof e)return a(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?a(e,n):void 0}}function a(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}import{callWithAsyncErrorHandling as u,queuePostFlushCb as c,nextTick as s,getCurrentInstance as l,watch as f,onMounted as v,onUpdated as p,onBeforeUnmount as h,warn as d,isVNode as y,cloneVNode as _,setTransitionHooks as E}from"vue";import{isArray as g,isString as m,extend as A,isObject as k,toNumber as C}from"@vue/shared";import{useRouter as S}from"vue-router";import{Comment as T,Fragment as N,h as R,warn as L}from"@vue/runtime-core";import{toRaw as P}from"@vue/reactivity";var O;!function(e){e[e.ELEMENT=1]="ELEMENT",e[e.FUNCTIONAL_COMPONENT=2]="FUNCTIONAL_COMPONENT",e[e.STATEFUL_COMPONENT=4]="STATEFUL_COMPONENT",e[e.TEXT_CHILDREN=8]="TEXT_CHILDREN",e[e.ARRAY_CHILDREN=16]="ARRAY_CHILDREN",e[e.SLOTS_CHILDREN=32]="SLOTS_CHILDREN",e[e.TELEPORT=64]="TELEPORT",e[e.SUSPENSE=128]="SUSPENSE",e[e.COMPONENT_SHOULD_KEEP_ALIVE=256]="COMPONENT_SHOULD_KEEP_ALIVE",e[e.COMPONENT_KEPT_ALIVE=512]="COMPONENT_KEPT_ALIVE",e[e.COMPONENT=6]="COMPONENT"}(O||(O={}));var b,I=O,F=function(e){return null!=e},M={__placeholder:!0},D=function(e){return e.currentRoute._value.path},H=function(){var e=w();return F(e)?e.id:void 0},w=function(){return history.state},B=function(e){return e.type.__isKeepAlive};function U(e,n){return!(n.shapeFlag&I.COMPONENT)&&(e.type===n.type&&e.key===n.key)}!function(e){e[e.SETUP_FUNCTION=0]="SETUP_FUNCTION",e[e.RENDER_FUNCTION=1]="RENDER_FUNCTION",e[e.WATCH_GETTER=2]="WATCH_GETTER",e[e.WATCH_CALLBACK=3]="WATCH_CALLBACK",e[e.WATCH_CLEANUP=4]="WATCH_CLEANUP",e[e.NATIVE_EVENT_HANDLER=5]="NATIVE_EVENT_HANDLER",e[e.COMPONENT_EVENT_HANDLER=6]="COMPONENT_EVENT_HANDLER",e[e.VNODE_HOOK=7]="VNODE_HOOK",e[e.DIRECTIVE_HOOK=8]="DIRECTIVE_HOOK",e[e.TRANSITION_HOOK=9]="TRANSITION_HOOK",e[e.APP_ERROR_HANDLER=10]="APP_ERROR_HANDLER",e[e.APP_WARN_HANDLER=11]="APP_WARN_HANDLER",e[e.FUNCTION_REF=12]="FUNCTION_REF",e[e.ASYNC_COMPONENT_LOADER=13]="ASYNC_COMPONENT_LOADER",e[e.SCHEDULER=14]="SCHEDULER"}(b||(b={}));var K,V=b;!function(e){e[e.TEXT=1]="TEXT",e[e.CLASS=2]="CLASS",e[e.STYLE=4]="STYLE",e[e.PROPS=8]="PROPS",e[e.FULL_PROPS=16]="FULL_PROPS",e[e.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",e[e.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",e[e.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",e[e.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",e[e.NEED_PATCH=512]="NEED_PATCH",e[e.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",e[e.DEV_ROOT_FRAGMENT=2048]="DEV_ROOT_FRAGMENT",e[e.HOISTED=-1]="HOISTED",e[e.BAIL=-2]="BAIL"}(K||(K={}));var x=K,Y=4,G=128,j=256,W=512,X=function(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=0;t<e.length;t++)e[t](n)};function $(e){return"function"==typeof e&&e.displayName||e.name}function q(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;u(e,n,7,[t,r])}var z=0,J=1;var Q,Z=function(e,n){var t;n&&n.pendingBranch?g(e)?(t=n.effects).push.apply(t,o(e)):n.effects.push(e):c(e)},ee=function(){function e(t){n(this,e),this.historyStackMap=[],this.destroyCache=t}return r(e,[{key:"push",value:function(e,n){var t=this.historyStackMap[n];if(Array.isArray(t))!t.includes(e)&&t.push(e),this.historyStackMap[n]=t.filter((function(e){return!e._isDestroyed}));else{var r=[];r.push(e),this.historyStackMap[n]=r}}},{key:"pop",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.historyStackMap.pop();if(Array.isArray(t))if(n){var r=t.pop();r&&this.destroyCache(r)}else t.forEach((function(n){return n&&e.destroyCache(n)}))}},{key:"removeGreater",value:function(e){for(;this.historyStackMap.length>=e;)this.pop()}},{key:"clear",value:function(){this.historyStackMap=[]}}]),e}(),ne=function(){function e(t){n(this,e),this.router=t}return r(e,[{key:"beforeReplace",value:function(e,n){var t=this.router,r=t.replace;return t.replace=function(o,i,a){!function(o,i,a){e(o),r.call(t,o,i,(function(e){n(),F(a)&&a(e)}))}(o,i,a)},this}},{key:"beforeGo",value:function(e){var n=this.router,t=n.go;return n.go=function(r){return e(o=r),t.call(n,o);var o},this}},{key:"beforePush",value:function(e){var n=this.router,t=n.push;return n.push=function(r,o,i){return function(r,o,i){if(e(),!o&&!i&&"undefined"!=typeof Promise)return t.call(n,r,o,i);t.call(n,r,o,i)}(r,o,i)},this}}]),e}();var te=function(e){return Q||(Q=new re),e&&Q.setup(e),Q},re=function(){function e(){n(this,e)}return r(e,[{key:"setup",value:function(e){var n=this,t=e.router,r=e.pruneCacheEntry,o=e.replaceStay,i=e.singleton;!function(e){var n=e.replaceState;e.replaceState=function(t,r,o){var i=Object.assign({},e.state),a=Object.assign(i,t);n.call(e,a,r,o)};var t=e.pushState;e.pushState=function(n,r,o){var i=Object.assign({},e.state),a=Object.assign(i,n);t.call(e,a,r,o)}}(history),this.destroyCaches=r,this.router=t,this.router._stack=0,this.mode=t.mode,this.historyShouldChange=!1,this.isReplace=!1,this.replacePrePath=void 0,this.preStateId=0,this.pre=null,this.replaceStay=o||[],this.singleton=i||[],this._initial=!0,this.historyStack=new ee((function(e){var t;e&&(!e.vnode.key||(t=e.vnode)&&t.key.startsWith("keep-alive-vnode-key-singleton-")||n.destroyCaches(e.vnode.key))})),this.init(),this.router.__core=this,this._routeTo=void 0}},{key:"isBacking",get:function(){return!(this.isPush||this.isReplace)}},{key:"init",value:function(){this.initStackPointer(),this.routerHooks(),this.hackRouter()}},{key:"initStackPointer",value:function(){var e=H();F(e)?this.setStackPointer(e):this.setState(0)}},{key:"genInitialKeyNextTime",value:function(){this._initial=!0}},{key:"genKeyForVnode",value:function(){var e=this,n=this.router,t=function(n,t,r){return r&&e.singleton.includes(r)?function(e){return"keep-alive-vnode-key-singleton-".concat((arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)||D(e))}(t,r):function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return"keep-alive-vnode-key-".concat(Number(e),"-").concat(t||D(n))}(n,t,r)};return this.isReplace||this._initial?(this._initial=!1,t(this.stackPointer,n,this._routeTo)):this.isPush?t(this.stackPointer+1,n,this._routeTo):t(this.stackPointer-1,n,this._routeTo)}},{key:"routerHooks",value:function(){var e=this,n=this.router;n.beforeEach((function(n,t,r){if(e.singleton.includes(n.path)&&n.path===t.path)return console.warn("警告 [stack-keep-alive]: 单例模式的页面不支持从自身重复路由"),void console.warn("warning [stack-keep-alive]: the singleton component doesn`t support route to from itself");e._routeTo=n.path,r()})),n.afterEach((function(n,t){e.historyShouldChange=!0,s((function(){var n,t=e.currentVm,r=function(e){return F(e)?e:M}(t);null===e.pre?e.onInitial(r):e.isReplace?e.onReplace(r):e.isPush?e.onPush(r):e.onBack(r),e.pre=t,e.preStateId=e.stackPointer,(n=r)&&n.__placeholder||(e.historyShouldChange=!1)}))}))}},{key:"hackRouter",value:function(){var e=this;this._hackRouter=new ne(this.router),this._hackRouter.beforeReplace((function(){e.isReplace=!0,e.replacePrePath=D(e.router)}),(function(n){e.isReplace=!1,e.replacePrePath=void 0})).beforeGo((function(n){e.isReplace=!1})).beforePush((function(){e.isReplace=!1}))}},{key:"onInitial",value:function(e){this.historyStack.push(e,this.stackPointer)}},{key:"onPush",value:function(e){var n,t;this.setState(this.increaseStackPointer()),this.historyStack.push(e,this.stackPointer),null===(n=this.pre)||void 0===n||null===(t=n.$clearParent)||void 0===t||t.call(n,e),this.pre=null}},{key:"onBack",value:function(e){this.historyStack.pop(),this.decreaseStackPointer(),this.historyStack.push(e,this.stackPointer)}},{key:"onReplace",value:function(e){var n=this.replacePrePath===D(this.router);!(F(this.replacePrePath)&&this.replaceStay.includes(this.replacePrePath)||n)&&this.historyStack.pop(!0),this.pre=null,this.setState(this.stackPointer),this.historyStack.push(e,this.stackPointer),this.isReplace=!1,this.replacePrePath=void 0}},{key:"currentVm",get:function(){return(null==(e=this.router)||null===(n=e.currentRoute)||void 0===n||null===(t=n._value)||void 0===t||null===(r=t.matched)||void 0===r?void 0:r.length)>0?null===(o=e.currentRoute._value.matched[0].instances)||void 0===o||null===(i=o.default)||void 0===i?void 0:i.$:void 0;var e,n,t,r,o,i}},{key:"isPush",get:function(){if(!this.isReplace){var e=H();return!F(e)||this.preStateId<=e}return!1}},{key:"stackPointer",get:function(){return this.router._stack}},{key:"setStackPointer",value:function(e){this.router._stack=e}},{key:"setState",value:function(e){this.setStackPointer(e),function(e,n,t){var r=window.location,o=r.pathname,i=r.search,a=r.hash,u="".concat(o).concat(i).concat(a),c=F(history.state)?history.state:{};c.id=t;var s=window.location.href.startsWith("file://");history.replaceState(c,"",s?null:u)}(this.mode,this.router,e)}},{key:"increaseStackPointer",value:function(){return this.router._stack+=1}},{key:"decreaseStackPointer",value:function(){return this.router._stack-=1}}]),e}(),oe=null,ie={name:"StackKeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number],replaceStay:[Array],singleton:[Array],mode:String},setup:function(n,t){var r=t.slots,o=l(),i=o.ctx;if(!i.renderer)return r.default;var a=new Map,u=new Set,c=null;window.__v_cache=o.__v_cache=a;var s,g=o.suspense,m=i.renderer,A=(m.p,m.m),k=m.um,C=(0,m.o.createElement)("div");function T(e){ue(e),k(e,o,g,!0)}function N(e){a.forEach((function(n,t){var r=$(n.type);!r||e&&e(r)||R(t)}))}function R(e){var n=a.get(e);c.key===e?ue(c):c&&T(n),a.delete(e),u.delete(e)}if(i.activate=function(e,n,t,r,o){var i=e.component;A(e,n,t,z,g),Z((function(){i.isDeactivated=!1,i.a&&X(i.a);var n=e.props&&e.props.onVnodeMounted;n&&q(n,i.parent,e)}),g)},i.deactivate=function(e){var n=e.component;A(e,C,null,J,g),Z((function(){n.da&&X(n.da);var t=e.props&&e.props.onVnodeUnmounted;t&&q(t,n.parent,e),n.isDeactivated=!0}),g)},!(s=S()))throw new Error("router is not found! In unit test mode ,router is got from gloabl.router, otherwise VueRouter.useRouter()");oe=te({router:s,pruneCacheEntry:R,replaceStay:n.replaceStay,singleton:n.singleton}),window.__core=oe,f((function(){return[n.include,n.exclude]}),(function(n){var t=e(n,2),r=t[0],o=t[1];r&&N((function(e){return ae(r,e)})),o&&N((function(e){return!ae(o,e)}))}),{flush:"post",deep:!0});var L=null,P=function(){null!=L&&a.set(L,ce(o.subTree))};return v(P),p(P),h((function(){a.forEach((function(e){var n=o.subTree,t=o.suspense,r=ce(n);if(e.type!==r.type)T(e);else{ue(r);var i=r.component.da;i&&Z(i,t)}}))})),function(){if(L=null,!r.default)return null;var e=oe.genKeyForVnode(),t=r.default({key:e}),i=t[0];if(o.vnode&&(o.vnode.__oldChild=t[0]),t.length>1)return d("KeepAlive should contain exactly one component child."),c=null,oe.genInitialKeyNextTime(),t;if(!y(i)||i.shapeFlag!==Y&&i.shapeFlag!==G)return oe.genInitialKeyNextTime(),c=null,i;var s=ce(i),l=s.type,f=$(s.__asyncLoader?s.type.__asyncResolved||{}:l),v=n.include,p=n.exclude,h=n.max;if(v&&(!f||!ae(v,f))||p&&f&&ae(p,f))return c=s,i;var g=null==s.key?l:s.key,m=a.get(g);return s.el&&(s=_(s),i.shapeFlag&G&&(i.ssContent=s)),L=g,m?(s.el=m.el,s.component=m.component,s.transition&&E(s,s.transition),s.shapeFlag|=W,u.delete(g),u.add(g)):(u.add(g),h&&u.size>parseInt(h,10)&&R(u.values().next().value)),s.shapeFlag|=j,c=s,i}}};function ae(e,n){return g(e)?e.some((function(e){return ae(e,n)})):m(e)?e.split(",").includes(n):!!e.test&&e.test(n)}function ue(e){if(e){var n=e.shapeFlag;n&j&&(n-=j),n&W&&(n-=W),e.shapeFlag=n}}function ce(e){return e.shapeFlag&G?e.ssContent:e}var se=[Function,Array],le={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:se,_onBeforeEnter:se,onEnter:se,_onEnter:se,onAfterEnter:se,onEnterCancelled:se,_onEnterCancelled:se,onBeforeLeave:se,onLeave:se,_onLeave:se,onAfterLeave:se,onLeaveCancelled:se,_onLeaveCancelled:se,onBeforeAppear:se,_onBeforeAppear:se,onAppear:se,_onAppear:se,onAfterAppear:se,onAppearCancelled:se,_onAppearCancelled:se},setup:function(e,n){var t,r=n.slots,o=l(),a=function(){var e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return v((function(){e.isMounted=!0})),h((function(){e.isUnmounting=!0})),e}();return function(){var n=r.default&&ye(r.default(),!0);if(n&&n.length){var u=n[0];if(n.length>1){var c,s=!1,l=function(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=i(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,c=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return u=e.done,e},e:function(e){c=!0,a=e},f:function(){try{u||null==t.return||t.return()}finally{if(c)throw a}}}}(n);try{for(l.s();!(c=l.n()).done;){var f=c.value;if(f.type!==T){if(s){d("<transition> can only be used on a single element or component. Use <transition-group> for lists.");break}u=f,s=!0}}}catch(e){l.e(e)}finally{l.f()}}if(u&&u.type&&u.type.name&&"StackKeepAlive"===u.type.name){u.__id=Math.floor(1e3*Math.random()),u._R;var v=new Proxy(u.children,{get:function(e,n,t){if("default"==n){var r=Reflect.get(e,n,t);return function(e){var n=r(e);return u._R&&!u._R.reused?("_placeholder"!==e.key&&(u._R[0].key=e.key,u._R[0].props.key=e.key,u._R.reused=!0),u._R):(n[0].type!==T&&(u._R=n),n)}}return Reflect.get(e,n,t)}});u.children=v}var p=P(e),h=p.mode;if(h&&"in-out"!==h&&"out-in"!==h&&"default"!==h&&d("invalid <transition> mode: ".concat(h)),a.isLeaving)return pe(u);var y=he(u);if(!y)return pe(u);var _=ve(y,p,a,o);de(y,_);var E=o.subTree,g=E&&he(E),m=!1,A=y.type.getTransitionKey;if(A){var k=A();void 0===t?t=k:k!==t&&(t=k,m=!0)}if(g&&g.type!==T&&(!U(y,g)||m)){var C=ve(g,p,a,o);if(de(g,C),"out-in"===h)return a.isLeaving=!0,C.afterLeave=function(){a.isLeaving=!1,o.update()},pe(u);"in-out"===h&&y.type!==T&&(C.delayLeave=function(e,n,t){fe(a,g)[String(g.key)]=g,e._leaveCb=function(){n(),e._leaveCb=void 0,delete _.delayedLeave},_.delayedLeave=t})}return u}}}};function fe(e,n){var t=e.leavingVNodes,r=t.get(n.type);return r||(r=Object.create(null),t.set(n.type,r)),r}function ve(e,n,t,r){var o=n.appear,i=n.mode,a=n.persisted,c=void 0!==a&&a,s=n.onBeforeEnter,l=n._onBeforeEnter,f=n.onEnter,v=n._onEnter,p=n.onAfterEnter,h=n.onEnterCancelled,d=n._onEnterCancelled,y=n.onBeforeLeave,_=(n._onBeforeLeave,n.onLeave),E=n._onLeave,m=n.onAfterLeave,A=n.onLeaveCancelled,k=n._onLeaveCancelled,C=n.onBeforeAppear,S=n._onBeforeAppear,T=n.onAppear,N=n._onAppear,R=n.onAfterAppear,L=n.onAppearCancelled,P=n._onAppearCancelled,O=String(e.key),b=fe(t,e),I=te(),F=function(e,n){e&&u(e,r,V.TRANSITION_HOOK,n)},M=function(e,n){var t=n[1];F(e,n),g(e)?e.every((function(e){return e.length<=1}))&&t():e.length<=1&&t()},D={mode:i,persisted:c,beforeEnter:function(n){var r=I.isBacking?l:s;if(!t.isMounted){if(!o)return;r=I.isBacking?S||l:C||s}n._leaveCb&&n._leaveCb(!0);var i=b[O];i&&U(e,i)&&i.el._leaveCb&&i.el._leaveCb(),F(r,[n])},enter:function(e){var n=I.isBacking?v:f,r=p,i=I.isBacking?d:h;if(!t.isMounted){if(!o)return;n=I.isBacking?N||v:T||f,r=R||p,i=I.isBacking?P||d:L||h}var a=!1,u=e._enterCb=function(n){a||(a=!0,F(n?i:r,[e]),D.delayedLeave&&D.delayedLeave(),e._enterCb=void 0)};n?M(n,[e,u]):u()},leave:function(n,r){var o=String(e.key);if(n._enterCb&&n._enterCb(!0),t.isUnmounting)return r();F(y,[n]);var i=!1,a=n._leaveCb=function(t){i||(i=!0,r(),F(t?I.isBacking?k:A:m,[n]),n._leaveCb=void 0,b[o]===e&&delete b[o])};b[o]=e,_&&E?M(I.isBacking?E:_,[n,a]):a()},clone:function(e){return ve(e,n,t,r)}};return D}function pe(e){if(B(e))return(e=_(e)).children=null,e}function he(e){return B(e)?e.children?g(e.children)?e.children[0]:e.children.default({key:"_placeholder"})[0]:void 0:e}function de(e,n){e.shapeFlag&I.COMPONENT&&e.component?de(e.component.subTree,n):e.shapeFlag&I.SUSPENSE?(e.ssContent.transition=n.clone(e.ssContent),e.ssFallback.transition=n.clone(e.ssFallback)):e.transition=n}function ye(e){for(var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=arguments.length>2?arguments[2]:void 0,r=[],o=0,i=0;i<e.length;i++){var a=e[i],u=null==t?a.key:String(t)+String(null!=a.key?a.key:i);a.type===N?(a.patchFlag&x.KEYED_FRAGMENT&&o++,r=r.concat(ye(a.children,n,u))):(n||a.type!==T)&&r.push(null!=u?_(a,{key:u}):a)}if(o>1)for(var c=0;c<r.length;c++)r[c].patchFlag=x.BAIL;return r}var _e="transition",Ee=function(e,n){var t=n.slots;return R(le,function(e){var n={};for(var t in e)t in ge||(n[t]=e[t]);if(!1===e.css)return n;var r=e.name,o=void 0===r?"v":r,i=e.type,a=e.duration,u=e.enterFromClass,c=void 0===u?"".concat(o,"-enter-from"):u,s=e.enterActiveClass,l=void 0===s?"".concat(o,"-enter-active"):s,f=e.enterToClass,v=void 0===f?"".concat(o,"-enter-to"):f,p=e.appearFromClass,h=void 0===p?c:p,d=e.appearActiveClass,y=void 0===d?l:d,_=e.appearToClass,E=void 0===_?v:_,g=e.leaveFromClass,m=void 0===g?"".concat(o,"-leave-from"):g,C=e.leaveActiveClass,S=void 0===C?"".concat(o,"-leave-active"):C,T=e.leaveToClass,N=void 0===T?"".concat(o,"-leave-to"):T,R=e.back_name,L=void 0===R?"v":R,P=(e.back_type,e.back_duration,e.back_enterFromClass),O=void 0===P?"".concat(L,"-enter-from"):P,b=e.back_enterActiveClass,I=void 0===b?"".concat(L,"-enter-active"):b,F=e.back_enterToClass,M=void 0===F?"".concat(L,"-enter-to"):F,D=e.back_appearFromClass,H=void 0===D?O:D,w=e.back_appearActiveClass,B=void 0===w?I:w,U=e.back_appearToClass,K=void 0===U?M:U,V=e.back_leaveFromClass,x=void 0===V?"".concat(L,"-leave-from"):V,Y=e.back_leaveActiveClass,G=void 0===Y?"".concat(L,"-leave-active"):Y,j=e.back_leaveToClass,W=void 0===j?"".concat(L,"-leave-to"):j,X=function(e){if(null==e)return null;if(k(e))return[ke(e.enter),ke(e.leave)];var n=ke(e);return[n,n]}(a),$=X&&X[0],q=X&&X[1],z=n.onBeforeEnter,J=n.onEnter,Q=n.onEnterCancelled,Z=n.onLeave,ee=n.onLeaveCancelled,ne=n.onBeforeAppear,te=void 0===ne?z:ne,re=n.onAppear,oe=void 0===re?J:re,ie=n.onAppearCancelled,ae=void 0===ie?Q:ie,ue=function(e,n,t){Se(e,n?E:v),Se(e,n?y:l),t&&t()},ce=function(e,n){e._isLeaving=!1,Se(e,m),Se(e,N),Se(e,S),n&&n()},se=function(e){return function(n,t){var r=e?oe:J,o=function(){return ue(n,e,t)};me(r,[n,o]),Te((function(){Se(n,e?h:c),Ce(n,e?E:v),Ae(r)||Re(n,i,$,o)}))}},le=function(e,n){e._isLeaving=!1,Se(e,x),Se(e,W),Se(e,G),n&&n()},fe=function(e,n,t){Se(e,n?K:M),Se(e,n?B:I),t&&t()},ve=function(e){return function(n,t){var r=e?oe:J,o=function(){return fe(n,e,t)};me(r,[n,o]),Te((function(){Se(n,e?H:O),Ce(n,e?K:M),Ae(r)||Re(n,i,$,o)}))}};return A(n,{onBeforeEnter:function(e){me(z,[e]),Ce(e,c),Ce(e,l)},_onBeforeEnter:function(e){me(z,[e]),Ce(e,O),Ce(e,I)},onBeforeAppear:function(e){me(te,[e]),Ce(e,h),Ce(e,y)},_onBeforeAppear:function(e){me(te,[e]),Ce(e,H),Ce(e,B)},_onEnter:ve(!1),_onAppear:ve(!0),onEnter:se(!1),onAppear:se(!0),onLeave:function(e,n){e._isLeaving=!0;var t=function(){return ce(e,n)};Ce(e,m),Oe(),Ce(e,S),Te((function(){e._isLeaving&&(Se(e,m),Ce(e,N),Ae(Z)||Re(e,i,q,t))})),me(Z,[e,t])},_onLeave:function(e,n){e._isLeaving=!0;var t=function(){return le(e,n)};Ce(e,x),Oe(),Ce(e,G),Te((function(){e._isLeaving&&(Se(e,x),Ce(e,W),Ae(Z)||Re(e,i,q,t))})),me(Z,[e,t])},onEnterCancelled:function(e){ue(e,!1),me(Q,[e])},_onEnterCancelled:function(e){fe(e,!1),me(Q,[e])},onAppearCancelled:function(e){ue(e,!0),me(ae,[e])},_onAppearCancelled:function(e){fe(e,!0),me(ae,[e])},onLeaveCancelled:function(e){ce(e),me(ee,[e])},_onLeaveCancelled:function(e){le(e),me(ee,[e])}})}(e),t)};Ee.displayName="SkTransition";var ge={name:String,back_name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Ee.props=A({},le.props,ge);var me=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];g(e)?e.forEach((function(e){return e.apply(void 0,o(n))})):e&&e.apply(void 0,o(n))},Ae=function(e){return!!e&&(g(e)?e.some((function(e){return e.length>1})):e.length>1)};function ke(e){var n=C(e);return function(e){"number"!=typeof e?L("<transition> explicit duration is not a valid number - "+"got ".concat(JSON.stringify(e),".")):isNaN(e)&&L("<transition> explicit duration is NaN - the duration expression might be incorrect.")}(n),n}function Ce(e,n){n.split(/\s+/).forEach((function(n){return n&&e.classList.add(n)})),(e._vtc||(e._vtc=new Set)).add(n)}function Se(e,n){n.split(/\s+/).forEach((function(n){return n&&e.classList.remove(n)}));var t=e._vtc;t&&(t.delete(n),t.size||(e._vtc=void 0))}function Te(e){requestAnimationFrame((function(){requestAnimationFrame(e)}))}var Ne=0;function Re(e,n,t,r){var o=e._endId=++Ne,i=function(){o===e._endId&&r()};if(t)return setTimeout(i,t);var a=function(e,n){var t=window.getComputedStyle(e),r=function(e){return(t[e]||"").split(", ")},o=r("transitionDelay"),i=r("transitionDuration"),a=Le(o,i),u=r("animationDelay"),c=r("animationDuration"),s=Le(u,c),l=null,f=0,v=0;n===_e?a>0&&(l=_e,f=a,v=i.length):"animation"===n?s>0&&(l="animation",f=s,v=c.length):v=(l=(f=Math.max(a,s))>0?a>s?_e:"animation":null)?l===_e?i.length:c.length:0;var p=l===_e&&/\b(transform|all)(,|$)/.test(t.transitionProperty);return{type:l,timeout:f,propCount:v,hasTransform:p}}(e,n),u=a.type,c=a.timeout,s=a.propCount;if(!u)return r();var l=u+"end",f=0,v=function(){e.removeEventListener(l,p),i()},p=function(n){n.target===e&&++f>=s&&v()};setTimeout((function(){f<s&&v()}),c+1),e.addEventListener(l,p)}function Le(e,n){for(;e.length<n.length;)e=e.concat(e);return Math.max.apply(Math,o(n.map((function(n,t){return Pe(n)+Pe(e[t])}))))}function Pe(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function Oe(){return document.body.offsetHeight}var be={StackKeepAlive:ie,Transition:Ee},Ie={install:function(e){for(var n in be)if(be.hasOwnProperty(n)){var t=be[n];e.component(t.displayName||t.name,t)}},ATransition:Ee};export{Ie as default};
